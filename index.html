<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>https://hittovos.com/home</title>
  <link href="https://fonts.googleapis.com/css2?family=Changa&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Codystar&display=swap" rel="stylesheet">
<style>
  * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Changa', sans-serif;
}

body {
  background-color: #000000;
  color: #f0f0f0;
  padding-bottom: 70px; /* espaço para a barra inferior */
}

main#feed {
  padding: 16px;
}

#new-post {
  position: fixed;
  bottom: 80px;
  left: 50%;
  transform: translateX(-50%);
  width: 440px;
  height: 360px;
  background-color: #0000007A;
   border: 1px solid #8D8D8D;
  backdrop-filter: blur(10px); 
  padding: 12px;
  border-radius: 12px;
  display: none; /* oculto por padrão */
  z-index: 100;
}

#new-post textarea,
#new-post input[type="text"] {
  width: 100%;
  background-color: rgba(42, 42, 42, 0.11);
  backdrop-filter: blur(15px); 
  color: #f0f0f0;
  border: none;
  margin: 8px 0;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #7F7F7F;
  height: 165px ;
}

#github-link {
  width: 100%;
  background-color: rgba(42, 42, 42, 0.11);
  backdrop-filter: blur(15px); 
  color: #f0f0f0;
  border: none;
  margin: 8px 0;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #434343;
  height: 35px;
}
#new-post button {
  width: 100%;
  padding: 10px;
  background-color: #333;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.post {
  background-color: #1A1A1A5C;
  border: 1px solid #7C7C7C;
  border-radius: 10px;
  padding: 16px;
  margin-bottom: 16px;
}

.post-content {
  margin-bottom: 8px;
  font-size: 16px;
}

.post-media img,
.post-media video,
.post-media audio {
  max-width: 100%;
  margin-top: 10px;
  border-radius: 8px;
}

.post-github a {
  display: inline-block;
  margin-top: 10px;
  color: #61dafb;
  text-decoration: none;
  font-size: 12px;
}

.post {
  background-color: #1A1A1A5C;
  border: 1px solid #7C7C7C;
  border-radius: 10px;
  padding: 16px;
  margin-bottom: 16px;
}

.post-content {
  margin-bottom: 8px;
  font-size: 16px;
}

.post-media img,
.post-media video,
.post-media audio {
  max-width: 100%;
  margin-top: 10px;
  border-radius: 8px;
}

.post-media img {
  cursor: pointer; /* Indica que a imagem é clicável */
}

.post-github a {
  display: inline-block;
  margin-top: 10px;
  color: #61dafb;
  text-decoration: none;
  font-size: 12px;
}

.post-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 10px;
}

.post-actions button {
  background-color: #FFFFFF00;
  color: #fff;
  border: none;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
}

/* Estilos para visualização em tela cheia */
.fullscreen-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.9);
  z-index: 1000;
  justify-content: center;
  align-items: center;
}

.fullscreen-image {
  max-width: 90%;
  max-height: 90%;
  object-fit: contain;
}

.fullscreen-overlay button {
  position: absolute;
  top: 20px;
  right: 20px;
  background-color: #FFFFFF00;
  color: #fff;
  border: none;
  font-size: 24px;
  cursor: pointer;
}

.view-count {
  margin-top: 10px;
  font-size: 14px;
  color: #7C7C7C;
}

.comments {
  margin-top: 12px;
}

.comments input {
  width: 100%;
  padding: 8px;
  background-color: #2a2a2a;
  border: none;
  color: #fff;
  border-radius: 6px;
}

.comment-list {
  list-style: none;
  margin-top: 8px;
}

.comment-list li {
  padding: 6px;
  margin-top: 4px;
  background-color: #2c2c2c;
  border-radius: 6px;
  cursor: pointer;
}

.bottom-bar {
   position: fixed;
   bottom: 6px;
   left: 3px;
   right: 3px;
   height: 60px;
   background-color: rgba(215, 215, 215, 0);
   border-radius: 18px;
   border: 1px solid #434343;
   backdrop-filter: blur(10px); 
   display: flex;
   justify-content: space-around;
   align-items: center;
   z-index: 100;
}

.bottom-bar button {
   background: none;
   border: none;
   cursor: pointer;
   padding: 8px;
   border-radius: 50%;
   transition: background 0.2s ease;
}

.bottom-bar button:hover {
   background-color: rgba(141, 141, 141, 0);
}

.bottom-bar svg {
   width: 26px;
   height: 26px;
   fill: #f0f0f0;
}


.interactions button {
  background-color: #FF000000;
  border: none;
  margin-right: 10px;
  cursor: pointer;
  padding: 5px;
  border-radius: 6px;
  transition: background 0.2s ease;
}

.interactions button:hover {
  background-color: rgba(255, 255, 255, 0.08);
}

.interactions svg {
  fill: #222222;
  transition: fill 0.3s ease;
}

.interactions button.liked svg {
  fill: #3B3B3B;
}

.interactions button.disliked svg {
  fill: #525252;
}

.toggleComments {
   background-color: #FF000000;
}


.header {
   position: fixed;
   top: 1;
   width: 100%;
   background: rgba(0, 0, 0, 0.4);
   backdrop-filter: blur(10px);
   color: #FFFFFF;
   padding: 10px 20px;
   z-index: 1000;
   transition: top 0.3s;
   border-bottom: 1px solid rgba(255, 255, 255, 0.1);
   border: 1px solid #434343;
}

h4 {
  font-family: 'AUDIOWIDE', cursive;
  font-size: 18px ; 
  border-right: 4px solid;   
  width: 10ch;
  white-space: nowrap;
  overflow: hidden; 
  animation: typing 1s steps(10),
  blinking 1s infinite step-end alternate;
} 
@keyframes typing {
  from {
   width: 0;
  }
}
@keyframes blinking {
  
  50% {
    border-color: transparent;
  }
}
@import url('https://fonts.googleapis.com/css2?family=Codystar&display=swap');

p {
  font-family: 'Codystar', cursive;
}
button[onclick="pesquisa()"] {
    position: absolute;
    top: 0px;
    right: 60px; /* Distância da direita */
    padding: 10px;
    border: none;
    cursor: pointer;
    border-radius: 13px;
    background: #27272700;
    color: white;
    font-size: 18px;
    display: flex;
    align-items: center;
    gap: 5px;
}
 
#btnMensagem {
  position: absolute;
  top: 7px;
  right: 115px;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  width: 30px;
  height: 30px;
} 
 
button {
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    font-size: 18px;
}

button svg {
    margin-left: 5px;
    transition: fill 0.3s;
}

button.liked svg {
    fill: #16FF00;
}

button span {
    margin-right: 5px;
}

button {
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    font-size: 18px;
}

button svg {
    margin-left: 5px;
    transition: fill 0.3s;
}

button.disliked svg {
    fill: red;
}

button span {
    margin-right: 5px;
}

button[onclick="menuO()"] {
    position: absolute;
    top: 1px;
    right: 15px; /* Distância da direita */
    padding: 10px;
    border: none;
    cursor: pointer;
    border-radius: 13px;
    background: #27272700;
    color: white;
    font-size: 18px;
    display: flex;
    align-items: center;
    gap: 5px;
}

#menu {
  backdrop-filter: blur(10px); 
  position: absolute;
  top: 50px;
  right: 3px;
  width: 280px;
  height: 700px;
  background: rgba(0, 0, 0, 0.85);
  border-radius: 8px;
  border: 1px solid #434343;
  color: white;
  padding: 20px;
  box-sizing: border-box;
  z-index: 1000;
}

#menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
  
}

#menu ul li {
  margin: 15px 0;
  cursor: pointer;
  
}

.post {
  position: relative;
}

.post-options {
  position: absolute;
  top: 2px;
  right: 2px;
}

.options-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 2px;
}

.options-menu {
  position: absolute;
  top: 30px;
  right: 0;
  background: #00000054;
  border: 1px solid #444;
  border-radius: 4px;
  z-index: 10;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px); 
}

.options-menu ul {
  list-style: none;
  margin: 0;
  padding: 5px 0;
}

.options-menu li {
  padding: 5px 10px;
  position: relative;
}

.options-menu button {
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  padding: 5px;
  color: #fff;
}

.options-menu button:hover {
  background: #000000C7;
  backdrop-filter: blur(13px); 
}

.translate-menu {
  position: absolute;
  top: 0;
  right: 100%;
  background-color: rgba(0, 0, 0, 0.85);
  border: 1px solid #444;
  border-radius: 4px;
  z-index: 11;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
  min-width: 150px;
  max-height: 400px;
  overflow-y: auto;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
} 

.translate-menu ul {
  list-style: none;
  margin: 0;
  padding: 5px 0;
}

.translate-menu li {
  padding: 5px 10px;
}

.translate-menu button {
  width: 100%;
  justify-content: flex-start;
  gap: 8px;
  font-size: 14px;
}

.translate-menu button:hover {
  background: #333;
}

/* Scrollbar styling for better appearance */
.translate-menu::-webkit-scrollbar {
  width: 8px;
}

.translate-menu::-webkit-scrollbar-track {
  background: #222;
}

.translate-menu::-webkit-scrollbar-thumb {
  background: #000000;
  border-radius: 4px;
}

.translate-menu::-webkit-scrollbar-thumb:hover {
  background: #000000;
}

.post-comments {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0, 0, 0, 0.1); /* Preto com 10% de transparência */
  border: 1px solid #444; /* Borda cinza */
  border-radius: 4px;
  display: none; /* Inicialmente oculta */
}

.comment-input-container {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
  height: 43px;
}

.comment-input-container textarea {
  flex: 1;
  background: rgba(0, 0, 0, 0.1); /* Preto com 10% de transparência */
  color: #fff; /* Letras brancas */
  border: 1px solid #444; /* Borda cinza */
  border-radius: 4px;
  padding: 8px;
  resize: vertical;
  font-size: 14px;
}

.comment-input-container button {
  background: rgba(0, 0, 0, 0.1); /* Preto com 10% de transparência */
  color: #fff; /* Letras brancas */
  border: 1px solid #444; /* Borda cinza */
  border-radius: 4px;
  padding: 8px 16px;
  cursor: pointer;
  font-size: 14px;
}

.comment-input-container button:hover {
  background: rgba(0, 0, 0, 0.2); /* Leve aumento na opacidade ao passar o mouse */
}

.comment-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.comment {
  background: rgba(0, 0, 0, 0.1); /* Preto com 10% de transparência */
  border: 1px solid #444; /* Borda cinza */
  border-radius: 4px;
  padding: 10px;
  margin-bottom: 10px;
  position: relative; /* Para posicionar a linha */
}

.comment-content {
  color: #fff; /* Letras brancas */
  font-size: 14px;
  margin-bottom: 5px;
}

.comment-actions {
  display: flex;
  gap: 10px;
  align-items: center;
}

.comment-actions button {
  background: none;
  border: none;
  color: #fff; /* Letras brancas */
  cursor: pointer;
  font-size: 12px;
  display: flex;
  align-items: center;
  gap: 4px;
}

.comment-actions button:hover {
  color: #ccc; /* Leve mudança para cinza ao passar o mouse */
}

.comment-actions .like-button svg {
  width: 16px;
  height: 16px;
  fill: #fff;
}

.comment-actions .like-button:hover svg {
  fill: #FF0000;
}

.reply-list {
  margin-top: 10px;
  margin-left: 20px;
  list-style: none;
  padding: 0;
}

.reply {
  background: rgba(0, 0, 0, 0.1); /* Preto com 10% de transparência */
  border: 1px solid #767676; /* Borda cinza escuro */
  border-radius: 4px;
  padding: 8px;
  margin-bottom: 8px;
  position: relative;
  padding-left: 20px; /* Espaço para a linha e seta */
}

.reply::before {
  content: '';
  position: absolute;
  left: -18px;
  top: -38px; /* Começa acima da resposta, conectando ao comentário */
  height: calc(100% + 1px); /* Estende até o topo da resposta */
  width: 14px;
  border-left: 2px solid #FFFFFF; /* Linha branca */
  border-bottom: 2px solid #FFFFFF; /* Curva branca */
  border-bottom-left-radius: 10px; /* Curva suave */
}
/*
.reply::after {
  content: '';
  position: absolute ;
  left: -5px;
  top: 75%;
  transform: translateY(-50%);
  border: 5px solid transparent;
  border-left: 5px solid #fff; /* Seta branca apontando para a direita 
}
*/
.reply-content {
  color: #fff; /* Letras brancas */
  font-size: 14px;
}

.reply-actions {
  display: flex;
  gap: 10px;
  margin-top: 5px;
  align-items: center;
}

.reply-actions button {
  background: none;
  border: none;
  color: #fff; /* Letras brancas */
  cursor: pointer;
  font-size: 12px;
  display: flex;
  align-items: center;
  gap: 4px;
}

.reply-actions button:hover {
  color: #FF0000; /* Leve mudança para cinza ao passar o mouse */
}

.reply-actions .like-button svg {
  width: 16px;
  height: 16px;
  fill: #fff;
  
}

.reply-actions .like-button:hover svg {
  fill: #FF0000;
}

body.light-mode {
  background-color: #A4A4A4;
  color: #000000;
}

body.light-mode .post,
body.light-mode .bottom-bar,
body.light-mode .header,
body.light-mode .comment,
body.light-mode .reply,
body.light-mode .options-menu,
body.light-mode .translate-menu,
body.light-mode #new-post {
  background-color: rgba(129, 129, 129, 0.23);
  color: #000000;
  border-color: #534F4F;
  backdrop-filter: blur(8px); 
}

body.light-mode .post-actions button,
body.light-mode .bottom-bar svg,
body.light-mode .comment-actions button,
body.light-mode .reply-actions button {
  color: #FFFFFF;
  fill: #B8B8B8;
}

/* Tema claro - força todos os SVGs e ícones a ficarem pretos */
body.light-mode svg,
body.light-mode svg path,
body.light-mode svg circle {
  stroke: #000000 !important;
  stroke-width: 2px !important;
  fill: #D8D8D800 !important;
}

#menu {
  backdrop-filter: blur(10px); 
  position: absolute;
  top: 50px;
  right: 3px;
  width: 280px;
  height: 700px;
  background: rgba(0, 0, 0, 0.85);
  border-radius: 8px;
  border: 1px solid #434343;
  color: white;
  padding: 20px;
  box-sizing: border-box;
  z-index: 1000;
}

/* Estilo para tema claro */
body.light-mode #menu {
  background: rgba(221, 221, 221, 0.83);
  color: #000;
  border: 1px solid #020202;
}

#menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

#menu ul li {
  margin: 15px 0;
  cursor: pointer;
}


</style>
</head>
<body>
   <header class="header" id="header">
  <h4>Hittovos beta</h4>
      <button onclick="menuO()">
      <svg width="24" viewBox="0 0 24 24" stroke="white" fill="none" stroke-width="2">
        <path d="M3 6h18M3 12h18M3 18h18"/>
      </svg>
    </button>
    <div id="menu" style="display: none;">
  <ul>
        <a href="/Scripts/Estruturas/Listadechats.html" style="text-decoration: none; color: inherit;">
    <li><svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M3 10h18M3 6h18M6 14h12M9 18h6"/></svg> Criar Comunidade</li>
    <a href="/Scripts/Estruturas/Config.html" style="text-decoration: none; color: inherit;">
  <li>
    <svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
      <circle cx="12" cy="12" r="3"/>
      <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09c.7 0 1.33-.4 1.51-1a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09c0 .7.4 1.33 1 1.51a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c0 .7.4 1.33 1 1.51H21a2 2 0 1 1 0 4h-.09c-.7 0-1.33.4-1.51 1z"/>
    </svg>
    Configuração
  </li>
</a> 
    <li><svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg> Favoritos</li>
    <li><svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M4 4h16v16H4z"/><path d="M4 9h16M9 4v16"/></svg> Personalizar Tema</li>
    
<li>
  <svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
    <circle cx="12" cy="12" r="10" />
    <path d="M12 8v4l3 3" />
  </svg> Acesso Antecipado
</li>
<li>
  <svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
    <path d="M14.7 6.3a4 4 0 0 0-5.6 0l-1 1a4 4 0 0 0 0 5.6l1 1-5.3 5.3 2.8 2.8 5.3-5.3 1 1a4 4 0 0 0 5.6 0l1-1a4 4 0 0 0 0-5.6l-1-1 1.4-1.4-2.8-2.8-1.4 1.4z"/>
  </svg> Ferramentas
</li>
<li>
  <svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
    <path d="M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9" />
    <path d="M13.73 21a2 2 0 0 1-3.46 0" />
  </svg> Notificações
</li>
<li>
  <svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
    <path d="M3 17l6-6 4 4 8-8" />
    <path d="M14 7h7v7" />
  </svg> Ver em Alta
</li>
<li id="toggle-theme" style="cursor: pointer;">
  <svg id="theme-icon" width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
    <!-- Ícone de sol -->
    <circle cx="12" cy="12" r="5" />
    <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
  </svg> troca tema claro/escuro
</li>
<li>
  <svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
    <rect x="3" y="3" width="6" height="6" />
    <rect x="15" y="3" width="6" height="6" />
    <rect x="3" y="15" width="6" height="6" />
    <rect x="15" y="15" width="6" height="6" />
  </svg> Apps
</li>
<li>
  <svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
    <path d="M17 16v1a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-1a5 5 0 0 1 10 0z"/>
    <circle cx="8.5" cy="7" r="4"/>
    <path d="M20 8v6M23 11h-6"/>
  </svg> Convidar Amigo
</li>
<li>
  <svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
    <circle cx="12" cy="12" r="10"/>
    <polygon points="16 8 14 14 8 16 10 10 16 8"/>
  </svg> Explorar
</li>
<li>
  <svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
    <circle cx="6" cy="8" r="2" />
    <circle cx="18" cy="8" r="2" />
    <circle cx="12" cy="5" r="2" />
    <path d="M2 20v-1a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1" />
    <path d="M12 20v-1a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1" />
  </svg> Minhas Comunidades
</li>
    <li><svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg> Sobre Nós</li>
    <li> 
<li>
  <svg width="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
    <circle cx="12" cy="12" r="10" />
    <path d="M9.09 9a3 3 0 1 1 5.82 0c0 1.5-3 2-3 4" />
    <circle cx="12" cy="17" r="1" />
  </svg> Ajuda
</li>
  </ul>
</div>
    <button id="btnMensagem" onclick="abrirMensagem()">
  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#ffffff" viewBox="0 0 24 24">
    <path d="M20 2H4C2.89 2 2.01 2.89 2.01 4L2 22l4-4h14c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 14H5.17L4 17.17V4h16v12z"/>
  </svg>
</button> 
    <button onclick="pesquisa()">
      <svg width="24" viewBox="0 0 24 24" stroke="white" fill="none" stroke-width="2">
        <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
      </svg>
    </button> 
</header>


  <main id="feed"></main>
  <section id="new-post">
    <textarea id="post-content" placeholder="Escreva algo..."></textarea>
    <input type="file" id="media-upload" multiple />
    <input type="textlink" id="github-link" placeholder="Link"/>
    <button onclick="createPost()">Publicar</button>
  </section>
  
<template id="post-template">
  <article class="post">
    <div class="post-options">
      <button class="options-btn" onclick="toggleOptionsMenu(this)">
        <svg width="19" height="19" viewBox="0 0 40 40" fill="none" stroke="#ffffff" stroke-width="2">
  <!-- Círculo externo -->
  <circle cx="20" cy="20" r="18" stroke="#ffffff" fill="none"/>

  <!-- Três pontos horizontais -->
  <circle cx="14" cy="20" r="1.5" fill="#ffffff"/>
  <circle cx="20" cy="20" r="1.5" fill="#ffffff"/>
  <circle cx="26" cy="20" r="1.5" fill="#ffffff"/>
</svg>
      </button>
      <div class="options-menu" style="display: none;">
        <ul>
          <li class="translate-option">
            <button onclick="toggleTranslateMenu(this)" title="Traduzir">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                <circle cx="12" cy="12" r="10" />
                <path d="M2 12h20" />
                <path d="M10 2v5h4V2" />
                <path d="M10 17v5h4v-5" />
                <path d="M5 8l-3 4 3 4" />
                <path d="M19 8l3 4-3 4" />
              </svg>traduzir
            </button>
<div class="translate-menu" style="display: none;">
              <ul>
                <li>
                  <button onclick="translatePost(this, 'pt')" title="Português">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 2v20"/>
                      <path d="M2 12h20"/>
                    </svg>
                    Português
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'ja')" title="Japonês">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M6 6h12v12H6z"/>
                    </svg>
                    Japonês
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'ar')" title="Árabe">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M8 16c1-2 3-3 4-3s3 1 4 3"/>
                    </svg>
                    Árabe
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'ru')" title="Russo">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M5 8h14v8H5z"/>
                    </svg>
                    Russo
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'en')" title="Inglês">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 2v20"/>
                      <path d="M2 12h20"/>
                    </svg>
                    Inglês
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'es')" title="Espanhol">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M6 6h12v12H6z"/>
                    </svg>
                    Espanhol
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'fr')" title="Francês">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M8 16c1-2 3-3 4-3s3 1 4 3"/>
                    </svg>
                    Francês
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'de')" title="Alemão">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M5 8h14v8H5z"/>
                    </svg>
                    Alemão
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'it')" title="Italiano">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 2v20"/>
                      <path d="M2 12h20"/>
                    </svg>
                    Italiano
                  </button>
                </li>
                <li>
                 <button onclick="translatePost(this, 'zh-CN')" title="Chinês (Simplificado)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M6 6h12v12H6z"/>
                    </svg>
                    Chinês  
                    </button>
               </li>
                    
                <li>
                  <button onclick="translatePost(this, 'ko')" title="Coreano">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M5 8h14v8H5z"/>
                    </svg>
                    Coreano
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'nl')" title="Holandês">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 2v20"/>
                      <path d="M2 12h20"/>
                    </svg>
                    Holandês
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'sv')" title="Sueco">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M6 6h12v12H6z"/>
                    </svg>
                    Sueco
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'no')" title="Norueguês">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M8 16c1-2 3-3 4-3s3 1 4 3"/>
                    </svg>
                    Norueguês
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'da')" title="Dinamarquês">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M5 8h14v8H5z"/>
                    </svg>
                    Dinamarquês
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'fi')" title="Finlandês">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 2v20"/>
                      <path d="M2 12h20"/>
                    </svg>
                    Finlandês
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'pl')" title="Polonês">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M6 6h12v12H6z"/>
                    </svg>
                    Polonês
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'tr')" title="Turco">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M8 16c1-2 3-3 4-3s3 1 4 3"/>
                    </svg>
                    Turco
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'hi')" title="Hindi">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M5 8h14v8H5z"/>
                    </svg>
                    Hindi
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'bn')" title="Bengali">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 2v20"/>
                      <path d="M2 12h20"/>
                    </svg>
                    Bengali
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'ta')" title="Tâmil">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M6 6h12v12H6z"/>
                    </svg>
                    Tâmil
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'te')" title="Télugo">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M8 16c1-2 3-3 4-3s3 1 4 3"/>
                    </svg>
                    Télugo
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'mr')" title="Marathi">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M5 8h14v8H5z"/>
                    </svg>
                    Marathi
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'gu')" title="Gujarati">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 2v20"/>
                      <path d="M2 12h20"/>
                    </svg>
                    Gujarati
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'kn')" title="Canará">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M6 6h12v12H6z"/>
                    </svg>
                    Canará
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'ml')" title="Malaiala">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M8 16c1-2 3-3 4-3s3 1 4 3"/>
                    </svg>
                    Malaiala
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'pa')" title="Punjabi">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M5 8h14v8H5z"/>
                    </svg>
                    Punjabi
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'th')" title="Tailandês">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 2v20"/>
                      <path d="M2 12h20"/>
                    </svg>
                    Tailandês
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'vi')" title="Vietnamita">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M6 6h12v12H6z"/>
                    </svg>
                    Vietnamita
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'id')" title="Indonésio">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M8 16c1-2 3-3 4-3s3 1 4 3"/>
                    </svg>
                    Indonésio
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'ms')" title="Malaio">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M5 8h14v8H5z"/>
                    </svg>
                    Malaio
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'he')" title="Hebraico">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 2v20"/>
                      <path d="M2 12h20"/>
                    </svg>
                    Hebraico
                  </button>
                </li>
                <li>
                  <button onclick="translatePost(this, 'uk')" title="Ucraniano">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M6 6h12v12H6z"/>
                    </svg>
                    Ucraniano
                  </button>
                </li>
              </ul>
            </div>
          </li>
          <li>
            <button onclick="downloadPost(this)" title="Baixar">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3" />
              </svg>download 
            </button>
          </li>
          <li>
            <button onclick="hidePost(this)" title="Ocultar">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                <circle cx="12" cy="12" r="3" />
                <path d="M2.5 2.5l19 19" />
              </svg>ocultar 
            </button>
          </li>
        </ul>
      </div>
    </div>
    <div class="post-content"></div>
    <div class="post-media"></div>
    <div class="post-github"></div>
    <div class="post-actions">
      <button id="abrircomentários" onclick="abrirMensagem()">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#ffffff" viewBox="0 0 24 24">
          <path d="M20 2H4C2.89 2 2.01 2.89 2.01 4L2 22l4-4h14c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 14H5.17L4 17.17V4h16v12z" />
        </svg>
      </button>
      <button onclick="likePost(this)">
  <span>0</span>
  <svg viewBox="0 0 24 24" width="20" height="25" fill="#ccc" xmlns="http://www.w3.org/2000/svg">
    <path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z" />
  </svg>
</button>
<button onclick="dislikePost(this)" title="Não gostei">
  <span>0</span>
  <svg viewBox="0 0 24 24" width="20" height="25" fill="#ccc" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z" />
  </svg>
</button>
      <button onclick="favoritePost(this)" title="Favoritar">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="#FFF">
          <path d="M12 .587l3.668 7.431L24 9.748l-6 5.849 1.417 8.268L12 18.896 4.583 23.865 6 15.597 0 9.748l8.332-1.73z" />
        </svg>
      </button>
      <button onclick="sharePost()">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="#ccc">
          <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.03-.47-.09-.7l7.02-4.11c.53.5 1.23.81 2.01.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.91 9.81C8.38 9.33 7.69 9.02 6.91 9.02c-1.66 0-3 1.34-3 3s1.34 3 3 3c.78 0 1.47-.31 2-.81l7.12 4.15c-.05.21-.09.43-.09.66 0 1.52 1.23 2.75 2.75 2.75S21.5 19.6 21.5 18.08s-1.23-2.75-2.75-2.75z" />
        </svg>
      </button>
      <div class="view-count">Viw: <span>0</span></div>
    </div>
    <div class="post-comments"></div>
  </article>
</template>

  <div class="bottom-bar">
  <button onclick="navigate('home')" title="Início">
    <svg width="24" height="24" fill="#f0f0f0" viewBox="0 0 24 24"><path d="M3 10L12 3l9 7v11a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1z"/></svg>
  </button>
  <button onclick="navigate('stories')" title="Stories">
    <svg width="24" height="24" fill="#f0f0f0" viewBox="0 0 24 24"><circle cx="12" cy="12" r="9" stroke="#f0f0f0" stroke-width="2" fill="none"/><circle cx="12" cy="12" r="3" fill="#f0f0f0"/></svg>
  </button>
  <button onclick="toggleNewPost()" title="Adicionar">
    <svg width="24" height="24" fill="#f0f0f0" viewBox="0 0 24 24"><path d="M12 5v14M5 12h14" stroke="#f0f0f0" stroke-width="2" fill="none"/></svg>
  </button>
  <button onclick="navigate('perfil')" title="Perfil">
    <svg width="24" height="24" fill="#f0f0f0" viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 4-6 8-6s8 2 8 6" fill="none" stroke="#f0f0f0" stroke-width="2"/></svg>
  </button>
  
  <button onclick="navigate('config')" title="Configurações">
    <svg width="24" height="24" fill="#f0f0f0" viewBox="0 0 24 24">
      <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/>
      <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
    </svg>
  </button>
</div>
<script>
  const toggleTheme = document.getElementById("toggle-theme");
  const icon = document.getElementById("theme-icon");
  
  // Ícone do sol (aparece quando está no escuro — para alternar pro claro)
  const sunIcon = `
    <svg viewBox="0 0 24 24" fill="none" stroke="#FFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"/>
      <line x1="12" y1="1" x2="12" y2="3"/>
      <line x1="12" y1="21" x2="12" y2="23"/>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
      <line x1="1" y1="12" x2="3" y2="12"/>
      <line x1="21" y1="12" x2="23" y2="12"/>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
    </svg>
  `;
  
  // Ícone da lua (aparece quando está no claro — para alternar pro escuro)
  const moonIcon = `
    <svg viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 12.79A9 9 0 1111.21 3 
               7 7 0 0021 12.79z"/>
    </svg>
  `;
  
  // Inicializa com o ícone do sol (modo escuro ativo por padrão)
  icon.innerHTML = sunIcon;
  
  toggleTheme.addEventListener("click", () => {
    const isLight = document.body.classList.toggle("light-mode");
    icon.innerHTML = isLight ? moonIcon : sunIcon;
  });
  // Armazenar visualizações (simulando um backend com localStorage)
const viewedPosts = JSON.parse(localStorage.getItem('viewedPosts')) || {};

// Função para atualizar o contador de visualizações
function updateViewCount(postId, count) {
  const postElement = document.querySelector(`.post[data-post-id="${postId}"] .view-count span`);
  if (postElement) {
    postElement.textContent = count;
  }
}

// Função para marcar visualização
function markAsViewed(postId, type) {
  if (!viewedPosts[postId]) {
    viewedPosts[postId] = { image: false, video: false, audio: false, text: false };
  }
  if (!viewedPosts[postId][type]) {
    viewedPosts[postId][type] = true;
    localStorage.setItem('viewedPosts', JSON.stringify(viewedPosts));
    // Aqui você pode enviar a visualização para um backend
    const count = Object.values(viewedPosts[postId]).filter(v => v).length;
    updateViewCount(postId, count);
  }
}

// Contagem de visualizações
document.querySelectorAll('.post').forEach(post => {
  const postId = post.dataset.postId;
  
  // Imagens: conta ao aparecer
  const img = post.querySelector('img[data-type="image"]');
  if (img) {
    const observer = new IntersectionObserver(([entry]) => {
      if (entry.isIntersecting) {
        markAsViewed(postId, 'image');
        observer.disconnect();
      }
    }, { threshold: 0.5 });
    observer.observe(img);
  }
  
  // Vídeos: conta após 3 segundos de reprodução
  const video = post.querySelector('video[data-type="video"]');
  if (video) {
    let playedForThreeSeconds = false;
    video.addEventListener('timeupdate', () => {
      if (video.currentTime >= 3 && !playedForThreeSeconds) {
        playedForThreeSeconds = true;
        markAsViewed(postId, 'video');
      }
    });
  }
  
  // Áudio: conta após 3 segundos de reprodução
  const audio = post.querySelector('audio[data-type="audio"]');
  if (audio) {
    let playedForThreeSeconds = false;
    audio.addEventListener('timeupdate', () => {
      if (audio.currentTime >= 3 && !playedForThreeSeconds) {
        playedForThreeSeconds = true;
        markAsViewed(postId, 'audio');
      }
    });
  }
  
  // Texto: conta após 3 segundos visível
  const content = post.querySelector('.post-content');
  if (content) {
    const observer = new IntersectionObserver(([entry]) => {
      if (entry.isIntersecting) {
        setTimeout(() => {
          if (entry.isIntersecting) {
            markAsViewed(postId, 'text');
          }
        }, 3000);
      }
    }, { threshold: 0.5 });
    observer.observe(content);
  }
});
const feed = document.getElementById('feed');
const postTemplate = document.getElementById('post-template');
const newPostSection = document.getElementById('new-post');
const postContent = document.getElementById('post-content');
const mediaUpload = document.getElementById('media-upload');
const githubLink = document.getElementById('github-link');

function createPost() {
   const content = postContent.value.trim();
   const github = githubLink.value.trim();
   const mediaFiles = Array.from(mediaUpload.files);
   
   if (!content && !github && mediaFiles.length === 0) return alert('Adicione algo à publicação.');
   
   const postClone = postTemplate.content.cloneNode(true);
   const postContentDiv = postClone.querySelector('.post-content');
   const postMediaDiv = postClone.querySelector('.post-media');
   const postGithubDiv = postClone.querySelector('.post-github');
   
   postContentDiv.textContent = content;
   
   mediaFiles.forEach(file => {
      const type = file.type;
      const url = URL.createObjectURL(file);
      let element;
      
      if (type.startsWith('image/')) {
         element = document.createElement('img');
         element.src = url;
      } else if (type.startsWith('video/')) {
         element = document.createElement('video');
         element.src = url;
         element.controls = true;
      } else if (type.startsWith('audio/')) {
         element = document.createElement('audio');
         element.src = url;
         element.controls = true;
      }
      
      if (element) postMediaDiv.appendChild(element);
   });
   
   if (github) {
      const link = document.createElement('a');
      link.href = github;
      link.textContent = github;
      link.target = '_blank';
      postGithubDiv.appendChild(link);
   }
   
   feed.prepend(postClone);
   
   postContent.value = '';
   mediaUpload.value = '';
   githubLink.value = '';
   newPostSection.style.display = 'none';
}

function likePost(btn) {
   const countSpan = btn.querySelector('span');
   countSpan.textContent = parseInt(countSpan.textContent) + 1;
}

function dislikePost(btn) {
   const countSpan = btn.querySelector('span');
   countSpan.textContent = parseInt(countSpan.textContent) + 1;
}

function favoritePost(button) {
   const svg = button.querySelector("svg");
   
   const isFavorited = svg.classList.toggle("favorited");
   
   if (isFavorited) {
      svg.setAttribute("fill", "#FFEA00 "); // amarelo
      svg.setAttribute("stroke", "#9F9FE ");
   } else {
      svg.setAttribute("fill", "none"); // volta a branco
      svg.setAttribute("stroke", "#FFF");
   }
}

function sharePost() {
   alert('Compartilhado! (simulação)');
}

function addComment(event, input) {
   if (event.key === 'Enter') {
      const text = input.value.trim();
      if (!text) return;
      
      const li = document.createElement('li');
      li.textContent = text;
      li.onclick = () => {
         const reply = prompt('Responder ao comentário:');
         if (reply) {
            const replyEl = document.createElement('div');
            replyEl.textContent = '↳ ' + reply;
            replyEl.style.marginLeft = '12px';
            replyEl.style.fontSize = '13px';
            replyEl.style.opacity = 0.8;
            li.appendChild(replyEl);
         }
      };
      
      const list = input.parentElement.querySelector('.comment-list');
      list.appendChild(li);
      input.value = '';
   }
}

function toggleNewPost() {
   newPostSection.style.display = newPostSection.style.display === 'none' ? 'block' : 'none';
}

function formatNumber(number) {
  if (number >= 1_000_000) {
    return Math.floor(number / 1_000_000) + ' mi';
  } else if (number >= 1_000) {
    return Math.floor(number / 1_000) + ' mil';
  } else {
    return number.toString();
  }
}

function likePost(button) {
  button.classList.toggle('liked');
  
  const span = button.querySelector('span');
  let currentLikes = parseInt(span.dataset.raw || span.textContent.replace(/\D/g, '')) || 0;
  currentLikes += 1;
  
  span.dataset.raw = currentLikes;
  span.textContent = formatNumber(currentLikes);
}

function dislikePost(button) {
  button.classList.toggle('disliked');
  
  const span = button.querySelector('span');
  let currentDislikes = parseInt(span.dataset.raw || span.textContent.replace(/\D/g, '')) || 0;
  currentDislikes += 1;
  
  span.dataset.raw = currentDislikes;
  span.textContent = formatNumber(currentDislikes);
}

  let lastScrollTop = 0;
  const header = document.getElementById('header');

  window.addEventListener('scroll', function () {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

    if (scrollTop > lastScrollTop) {
      // Rolando pra baixo
      header.style.top = "-100px";
    } else {
      // Rolando pra cima
      header.style.top = "0";
    }

    lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
  });

function menuO() {
  const menu = document.getElementById("menu");
  menu.style.display = menu.style.display === "none" ? "block" : "none";
}

// Replace with your Google Cloud Translation API key
const GOOGLE_API_KEY = 'YOUR_GOOGLE_CLOUD_API_KEY';

async function translateText(text, targetLanguage) {
  try {
    const response = await fetch(`https://translation.googleapis.com/language/translate/v2?key=${GOOGLE_API_KEY}`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        q: text,
        target: targetLanguage,
        format: 'text',
      }),
    });

    if (!response.ok) {
      throw new Error(`Translation API error: ${response.statusText}`);
    }

    const data = await response.json();
    if (data.error) {
      throw new Error(data.error.message);
    }

    return data.data.translations[0].translatedText;
  } catch (error) {
    console.error('Translation error:', error);
    return `Erro ao traduzir para ${targetLanguage}: ${error.message}`;
  }
}

function toggleOptionsMenu(button) {
  const menu = button.nextElementSibling;
  menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
}

function toggleTranslateMenu(button) {
  const translateMenu = button.nextElementSibling;
  translateMenu.style.display = translateMenu.style.display === 'none' ? 'block' : 'none';
}

async function translatePost(element, language) {
  const post = element.closest('.post');
  const content = post.querySelector('.post-content').textContent;

  if (!content.trim()) {
    alert('Nenhum conteúdo para traduzir.');
    return;
  }

  const translationDiv = document.createElement('div');
  translationDiv.className = 'post-translation';
  translationDiv.textContent = 'Traduzindo...';
  translationDiv.style.marginTop = '10px';
  translationDiv.style.fontStyle = 'italic';
  translationDiv.style.color = '#ccc';
  const existingTranslation = post.querySelector('.post-translation');
  if (existingTranslation) existingTranslation.remove();
  post.querySelector('.post-content').after(translationDiv);

  const translatedText = await translateText(content, language);
  translationDiv.textContent = translatedText;

  const translateMenu = element.closest('.translate-menu');
  if (translateMenu) translateMenu.style.display = 'none';
  const optionsMenu = element.closest('.options-menu');
  if (optionsMenu) optionsMenu.style.display = 'none';
}

async function downloadPost(element) {
  const post = element.closest('.post');
  const content = post.querySelector('.post-content').textContent;
  const githubContent = post.querySelector('.post-github')?.textContent || '';
  const mediaContainer = post.querySelector('.post-media');

  let hasContent = false;

  const textToDownload = content.trim() + (githubContent.trim() ? '\n\nGitHub:\n' + githubContent.trim() : '');
  if (textToDownload.trim()) {
    const blob = new Blob([textToDownload], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = 'postagem.txt';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);
    hasContent = true;
  }

  const images = mediaContainer?.querySelectorAll('img') || [];
  for (let i = 0; i < images.length; i++) {
    const imgSrc = images[i].src;
    if (imgSrc) {
      try {
        const response = await fetch(imgSrc);
        if (!response.ok) throw new Error('Failed to fetch image');
        const blob = await response.blob();
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = `postagem_imagem_${i + 1}.${blob.type.split('/')[1] || 'jpg'}`;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
        hasContent = true;
      } catch (error) {
        console.error('Image download error:', error);
      }
    }
  }

  const videos = mediaContainer?.querySelectorAll('video source, video') || [];
  for (let i = 0; i < videos.length; i++) {
    const videoSrc = videos[i].src || videos[i].getAttribute('src');
    if (videoSrc) {
      try {
        const response = await fetch(videoSrc);
        if (!response.ok) throw new Error('Failed to fetch video');
        const blob = await response.blob();
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = `postagem_video_${i + 1}.${blob.type.split('/')[1] || 'mp4'}`;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
        hasContent = true;
      } catch (error) {
        console.error('Video download error:', error);
      }
    }
  }

  if (!hasContent) {
    alert('Nenhum conteúdo (texto, imagens ou vídeos) para baixar.');
  }

  toggleOptionsMenu(element.closest('.options-menu').previousElementSibling);
}

function hidePost(element) {
  const post = element.closest('.post');
  post.style.display = 'none';
  toggleOptionsMenu(element.closest('.options-menu').previousElementSibling);
}

function likeComment(button) {
  const span = button.querySelector('span');
  let count = parseInt(span.textContent);
  span.textContent = count + 1;
}

function likeReply(button) {
  const span = button.querySelector('span');
  let count = parseInt(span.textContent);
  span.textContent = count + 1;
}

function abrirMensagem() {
  const post = document.querySelector('.post');
  const commentsSection = post.querySelector('.post-comments');

  if (commentsSection.style.display === 'block') {
    commentsSection.style.display = 'none';
    return;
  } else {
    commentsSection.style.display = 'block';
  }

  if (commentsSection.querySelector('.comment-input-container')) {
    return;
  }

  const inputContainer = document.createElement('div');
  inputContainer.className = 'comment-input-container';

  const textarea = document.createElement('textarea');
  textarea.placeholder = 'Digite seu comentário...';
  textarea.rows = 3;

  const submitButton = document.createElement('button');
  submitButton.textContent = 'Enviar';
  submitButton.onclick = () => addComment(post, textarea);

  inputContainer.appendChild(textarea);
  inputContainer.appendChild(submitButton);
  commentsSection.appendChild(inputContainer);

  if (!commentsSection.querySelector('.comment-list')) {
    const commentList = document.createElement('ul');
    commentList.className = 'comment-list';
    commentsSection.appendChild(commentList);
  }
}

function addComment(post, textarea) {
  const commentText = textarea.value.trim();
  if (!commentText) {
    alert('O comentário não pode estar vazio.');
    return;
  }

  const commentList = post.querySelector('.comment-list');
  const commentItem = document.createElement('li');
  commentItem.className = 'comment';

  const commentContent = document.createElement('div');
  commentContent.className = 'comment-content';
  commentContent.textContent = commentText;

  const commentActions = document.createElement('div');
  commentActions.className = 'comment-actions';

  const likeButton = document.createElement('button');
  likeButton.className = 'like-button';
  likeButton.innerHTML = `
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" >
      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
    </svg>
    <span>0</span>
  `;
  likeButton.onclick = () => likeComment(likeButton);

  const replyButton = document.createElement('button');
  replyButton.textContent = 'Responder';
  replyButton.onclick = () => showReplyInput(commentItem);

  commentActions.appendChild(likeButton);
  commentActions.appendChild(replyButton);
  commentItem.appendChild(commentContent);
  commentItem.appendChild(commentActions);

  const replyList = document.createElement('ul');
  replyList.className = 'reply-list';
  commentItem.appendChild(replyList);

  commentList.appendChild(commentItem);
  textarea.value = '';
}

function showReplyInput(item) {
  if (item.querySelector('.reply-input-container')) {
    return;
  }

  const replyInputContainer = document.createElement('div');
  replyInputContainer.className = 'comment-input-container reply-input-container';

  const replyTextarea = document.createElement('textarea');
  replyTextarea.placeholder = 'Digite sua resposta...';
  replyTextarea.rows = 2;

  const replySubmitButton = document.createElement('button');
  replySubmitButton.textContent = 'Enviar';
  replySubmitButton.onclick = () => addReply(item, replyTextarea);

  replyInputContainer.appendChild(replyTextarea);
  replyInputContainer.appendChild(replySubmitButton);
  item.appendChild(replyInputContainer);
}

function addReply(item, replyTextarea) {
  const replyText = replyTextarea.value.trim();
  if (!replyText) {
    alert('A resposta não pode estar vazia.');
    return;
  }

  const commentItem = item.closest('.comment');
  const replyList = commentItem.querySelector('.reply-list');
  const replyItem = document.createElement('li');
  replyItem.className = 'reply';

  const replyContent = document.createElement('div');
  replyContent.className = 'reply-content';
  replyContent.textContent = replyText;

  const replyActions = document.createElement('div');
  replyActions.className = 'reply-actions';

  const likeButton = document.createElement('button');
  likeButton.className = 'like-button';
  likeButton.innerHTML = `
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
    </svg>
    <span>0</span>
  `;
  likeButton.onclick = () => likeReply(likeButton);

  const replyButton = document.createElement('button');
  replyButton.textContent = 'Responder';
  replyButton.onclick = () => showReplyInput(replyItem);

  replyActions.appendChild(likeButton);
  replyActions.appendChild(replyButton);
  replyItem.appendChild(replyContent);
  replyItem.appendChild(replyActions);

  replyList.appendChild(replyItem);

  replyTextarea.value = '';
  replyTextarea.closest('.reply-input-container').remove();
}

document.addEventListener('click', function (event) {
  if (!event.target.closest('.options-btn') && !event.target.closest('.options-menu') && !event.target.closest('.translate-menu')) {
    document.querySelectorAll('.options-menu').forEach(menu => {
      menu.style.display = 'none';
    });
    document.querySelectorAll('.translate-menu').forEach(menu => {
      menu.style.display = 'none';
    });
  }
});
</script>
</body>
</html> 
